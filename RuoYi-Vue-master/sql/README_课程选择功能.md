# 题目练习 - 课程选择功能说明

## 📋 功能概述

将题目练习界面改造为**两级页面结构**：
1. **第一级**：课程选择页面 - 展示所有课程，选择要练习的课程
2. **第二级**：题目练习页面 - 显示选定课程的题目列表

---

## 🎯 功能特点

### 课程选择页面
- ✅ 卡片式展示所有进行中的课程
- ✅ 显示课程封面、标题、描述
- ✅ 显示课程类型（必修课/选修课）
- ✅ 显示课程统计（题目数量、学习人数、学分）
- ✅ 显示课程状态（进行中/未开始/已结束）
- ✅ 支持按课程类型筛选（全部/必修课/选修课）
- ✅ 点击课程卡片进入对应的题目练习

### 题目练习页面
- ✅ 显示当前课程标题
- ✅ 只显示当前课程的题目
- ✅ 提供"返回课程列表"按钮
- ✅ 保留原有的筛选、答题等功能

---

## 📊 数据准备

### 1. 课程数据

已添加 **8 门课程**：

| ID | 课程名称 | 类型 | 学生数 | 题目数 |
|----|---------|------|--------|--------|
| 1 | 前端开发基础 | 必修课 | 0 | 20 |
| 2 | JavaScript高级编程 | 必修课 | 85 | 8 |
| 3 | Vue.js框架开发 | 必修课 | 78 | 6 |
| 4 | React框架实战 | 选修课 | 62 | 1 |
| 5 | 前端工程化实践 | 选修课 | 55 | 1 |
| 6 | Node.js后端开发 | 选修课 | 48 | 7 |
| 7 | 移动端开发 | 选修课 | 42 | 1 |
| 8 | 前端性能优化 | 选修课 | 35 | 6 |

**总计**：50 道题目分布在 8 门课程中

### 2. 题目分配

原有的 50 道题目已按知识点分配到不同课程：
- HTML/CSS基础 → 前端开发基础
- JavaScript高级特性 → JavaScript高级编程
- Vue相关 → Vue.js框架开发
- React相关 → React框架实战
- 构建工具 → 前端工程化实践
- HTTP/Node.js → Node.js后端开发
- 响应式设计 → 移动端开发
- 性能优化/架构 → 前端性能优化

---

## 🗂️ 文件结构

### 新增文件

1. **`ruoyi-ui/src/views/system/question/courses.vue`**
   - 课程选择页面组件
   - 展示课程卡片列表
   - 支持课程类型筛选
   - 点击进入题目练习

2. **`ruoyi-ui/src/api/system/course.js`**
   - 课程相关API接口
   - `listCourse()` - 获取课程列表
   - `getCourse()` - 获取课程详情
   - 其他CRUD操作

3. **`sql/add_more_courses.sql`**
   - 添加7门新课程
   - 将题目分配到不同课程
   - 验证数据

4. **`sql/update_question_menu.sql`**
   - 更新菜单配置
   - 将"题目练习"改为"课程选择"
   - 添加隐藏的题目练习子菜单

### 修改文件

1. **`ruoyi-ui/src/views/system/question/index.vue`**
   - 添加"返回课程列表"按钮
   - 从路由获取课程ID和标题
   - 根据课程ID筛选题目
   - 如果没有课程ID，自动跳转到课程选择页面

---

## 🔄 页面流程

```
用户点击"题目练习"菜单
    ↓
进入课程选择页面 (/system/question/courses)
    ↓
浏览课程列表，可以按类型筛选
    ↓
点击某个课程的"开始练习"按钮
    ↓
跳转到题目练习页面 (/system/question/courses/practice?courseId=1&courseTitle=前端开发基础)
    ↓
显示该课程的题目列表
    ↓
用户可以答题、筛选、查看统计等
    ↓
点击"返回课程列表"按钮
    ↓
返回课程选择页面
```

---

## 🎨 界面设计

### 课程选择页面

**布局**：
- 页面标题 + 副标题
- 课程类型筛选按钮（全部/必修课/选修课）
- 课程卡片网格（响应式布局）

**课程卡片**：
- 顶部：课程封面图（渐变背景 + 课程类型标签）
- 中部：课程标题 + 描述
- 底部：统计信息（题目数、学习人数、学分）+ 状态标签 + 开始练习按钮

**颜色方案**：
- 必修课标签：粉红渐变
- 选修课标签：蓝色渐变
- 卡片悬停：上浮 + 蓝色阴影

### 题目练习页面

**新增元素**：
- 顶部：返回课程列表按钮（文本按钮，蓝色）
- 标题：显示当前课程名称

**保留元素**：
- 统计卡片
- 筛选标签
- 题目卡片/列表
- 分页组件

---

## 🚀 使用说明

### 1. 导入数据

```bash
# 导入课程数据
mysql -uroot -p123456 smartclassv2 --default-character-set=utf8mb4 -e "source RuoYi-Vue-master/sql/add_more_courses.sql"

# 更新菜单配置
mysql -uroot -p123456 smartclassv2 --default-character-set=utf8mb4 -e "source RuoYi-Vue-master/sql/update_question_menu.sql"
```

### 2. 刷新前端

- 按 `Ctrl + Shift + R` 强制刷新浏览器
- 或清除浏览器缓存后刷新

### 3. 测试功能

1. **进入课程选择页面**：
   - 点击左侧菜单"学生功能" → "课程选择"
   - 应该看到8门课程的卡片

2. **筛选课程**：
   - 点击"必修课"按钮 → 显示3门必修课
   - 点击"选修课"按钮 → 显示5门选修课
   - 点击"全部课程"按钮 → 显示所有8门课程

3. **进入题目练习**：
   - 点击任意课程的"开始练习"按钮
   - 跳转到题目练习页面
   - 页面标题显示课程名称
   - 只显示该课程的题目

4. **返回课程列表**：
   - 点击"返回课程列表"按钮
   - 返回课程选择页面

---

## 📝 注意事项

### 1. 课程封面图

课程封面图URL是占位符：
```
/upload/courses/xxx.jpg
```

**实际使用时需要**：
- 准备课程封面图片
- 上传到服务器的 `/upload/courses/` 目录
- 或者修改数据库中的URL

**临时方案**：
- 使用渐变背景 + 图标作为占位符
- 图片加载失败时自动隐藏

### 2. 题目数量获取

当前实现：
- 通过调用题目列表API获取每个课程的题目总数
- 使用 `pageSize=1` 只获取总数，不获取具体题目

**优化建议**：
- 在后端添加专门的API：`GET /system/course/{id}/question-count`
- 或在课程列表API中直接返回题目数量

### 3. 路由配置

菜单配置已更新：
- 主菜单：课程选择 (`/system/question/courses`)
- 子菜单：题目练习 (`/system/question/courses/practice`，隐藏）

**注意**：
- 题目练习页面设置为隐藏（`visible='1'`）
- 只能通过课程选择页面跳转进入
- 直接访问题目练习页面会自动跳转到课程选择页面

---

## ✅ 完成状态

- ✅ 课程数据已添加（8门课程）
- ✅ 题目已分配到课程
- ✅ 课程选择页面已创建
- ✅ 题目练习页面已修改
- ✅ 菜单配置已更新
- ✅ API接口已创建
- ✅ 路由跳转已实现
- ⚠️ 课程封面图需要手动上传

---

## 🎉 效果预览

### 课程选择页面
- 美观的卡片式布局
- 渐变色背景
- 悬停动画效果
- 清晰的课程信息展示

### 题目练习页面
- 显示当前课程名称
- 只显示当前课程的题目
- 可以返回课程列表
- 保留所有原有功能

---

**创建日期**：2025-11-20  
**功能版本**：v2.0  
**维护者**：AI Assistant

